language: node_js

services:
- redis-server
- elasticsearch

node_js:
- '7'

before_script:
- npm install

script:
- npm test
- npm run build

env:
  global:
  - secure: XuFZvJpc/R7ctWarhZI6NY8myPrE+n5mjdw8Yg+rCLlD+1Y95Is9VcfD+7Hp3w2JyjvoG3l6EBB1ybDbP/bB+3eR4gmDDib51hjDD0k+hnVdf56xei/k50IFAurj/61OsFMc4oR+0LRLSzZje7VA5kUxrhGIJz8H1JCWSyQkv9irZBFQ50wBKE3PTPRvswikEs4XE4TyT/Y2Zis+w8Ch2XAHDqghTvylnGxzxBMfv9woW/XC3u2ueUyTZI14w0NJspv8n20+0FgN9eG0VftqoA10vkJ+B110Hwaozl0jMF2Sw8it1OC+GGOJoJUmVbq64EENiPtZ/DqqRzqbHpXZDEgcv+8F1TGNOBckoJkue9De50Vtj0gk06kWnhZPNwCdHUmX+pBwtDzAUCKQAbpl2zMsfKy7qBtYIjYWStvrF2ztxBflyf+VDGQ1V3GdWqiuw7UMz6Ar4zkrZgsajZsaeSlroaj3G7V6vG6KnErlk3BrxsSd6xz40d8Nw1V5YHvHL2LAR9eo3rF2VbG6T4OaIXMrBNTobM/gKf4Hzb0/fUQo6OZ3OH/WVi2a6NjwdeRWvycE/apgFILk3xfFNJDL88sgq1EQq7AgqyBdLY5GznQpnWEsPVFWiGYxfygegGgvf9xMi4gxt9JEM+lYUIHWFsZTXLg8Yu+9bzgQ7fCN+to=
  - secure: zKo6RoURRDbC2OvhtauPsOf0zgll07HKcLAyiKe2/XaEPtSqffJDe/pwdDH4hNiH3HASDq7wjDVWCq+f1eLQv+Qj29dV+J4AxnEliaY5ysM1ieEWwEpR9kBhGqxK/xxD4F/1qWWQAKNphRxrVIqsDv3GFqjp2PT2XDI0n6t1q/QdSLX1s2gE3YCLHSWPudf8lWvpubB6dcbmnl7X0vF9c7F9jf25ybubqDl5SS0XkwcevdfSUKNyAB3ek/OZcvRNoEzSCpZ/N59EEA0GCazSweSq3cz6IuTmQBBdW3m2Oo8FQ18WsPk0q2mHgb/Caboq8r+T0POIkuegzBssnkKNR5Y5XhJEDONzseWc3po68yhGPMR+0PXBYkR9i06YSmeD9rq2vLnCIjbyElYQUemuZPecNHkIyq78xodGv3KTX+/qW5avXFP6lEBF5r69KvZN2W2yU9VnrEhGHhi96q8rVYZBSgHSk7QZ3X0b8PE6W6pzztafWuFsVG37uknVaz8e1tEbRmt5lJcCm6e/INeraQ5f2zWRd0xui1nZoyj1E8GojrPw+pNzAA7fhSl6fLbCJlalsZDcSMyJNoeZtr+vFihFccpjjxaBLviaevIQ8+0YrzqAvSg2RW6qLG5g+xj6JfiPH8a5IDqhaH1shseWu1Cd+XHoYpvPKmLIJJKaI9A=
  - secure: U1dQPPCdFlhtDTM9XXKN9BsJYCOXhlQjOr2jW4FduiBNbzjgYxml5N7fx2HSQSEwgwKiq6elsgXD8BC3jxZtCidkTNb83ijKy8ez4yHqi5cTCZ0DHhb/CtBUnU+kYiZUO4dXppkqVFB2Hk8SVhL2lJqxbEd29iqd/TPLcJ7DVPiWBrEBwGvxI/UnB/AhUnsp4wKcryPkjGn45qw2t+IM/hjfcgzY5wczK7U4ZvgBhnc+1hYGBFuznJDZYAJCBKyu+4Bo+r63VPhKC4EQNlP55wTIjihAYN3ntYchAXvrnWeO1fR9geGYxZEyeLRuoomfhxqW0ctdVs6TRHvkVqRPT0Z4QVnZgxUhuxcCT/r/FXq82Xlt8Xaau4TAUUzRacx+AMFob29vESMqI2r3OoydrWB939UUUg87V2G0o+zwX9HW0S6lU34NUeV1GhfEUAMo/SzCIiqB1RIwXhfouuX8uONPo3xlkuZ/XRhyWMdq0eezDIkZSQBiFpY2ReXouBMOUzHUeJdnT6rof58+xumFRrvGalqliTRfsNhUiVifzqD41ioqKZeH0FSrnzaUmFOsEFvLcPCJpVFNs2S88df+9rwfVJ3p1zR5xCLO9Uv+QXSrQey0DneXDPp/6Rgy3SYHBS6N+c+2qa088RQy0v08z30CBhL9ntZCGc3CGb90FVU=
  - secure: KufQYuGl0gAOpljy+ksxcjqG2WEyx77y5LchaRuksAlkrY2w95FeWvSNmGoNi8RWx9nWqYDUYUjKNmBDpUpqGtkVwS8ewbsu6cYosUx6c6iNbPDKvkSVA9Im6QY9tYZeHh7+lZyL1OLSvNYrRXnCCzPjhsJszhEgRY0OPVyqyP1/XvWZlCm4wamABTLGruOUaAoI0eoaskj8cUpjdolNzTm3PfwMb0VHxywfqmI879H7mU1Ja2mw4nXhrjCbXwNnFHP7n0cJdMjGYlgbzHJQUFkoa3UvPFBIaiNPXR0xuzEs3j5KkuurLtw0V/Enma5OnUjv8KvEeOYHen+aUZBe4/CacUtRETbS2ezjpFDamL94IPF2NbsBI0kMGqDVFZ59aVx4JXs52Bhjd0PYKDrGeFHcc/qJFtWqfEYsLfWQFCHctqV20WY+rbbUh29z6HjUMf9yKDwvnf6/LfUYUvZmNmDCl5c7uuzlpg6IsdGxVJVD5yo/ooqMLM9qd6cmVSN99Iy1Ao2WpdHGcfEYJLQgZZzz4QVpuq5yQqbuOYZyxTcy/ceJ6wvg5XWymAps9Y1vvtJ9rAQ5ITTyXBmV1Km53F4GmLJH3in2Ln/suCwjNnAPRxFCtYWuJsBfbr/JwPvdRkpyAl3Yacyxan+nXV3j7G7aWr8+V0WEbRhAH0dOa+s=

notifications:
  slack:
    secure: ZvOm+v6CpK429zTcXhIJWFwrpE8q4rd5UTOdl9K3Adk+zcwS1HDlbEeBFA0k/Bx/AK8HYpaIRkmzuXgDtO4aa1p4mGDntSyBZ+Wc6h+BZZ/OAjpwTObpzcf85RZIF/DfxICHYgql314jUFvDB+rOea+DVVPUJwOXy8u0b7awhz/YhE3ApI6e0lW3swsn+Fpl/6v0h8PFwnrg9J292spgh5dYL1OpilPIHQckmD53SDgLPL9+dgtcWKiBqmhV5B1hsxGoM82vnBcHHfSY23edUDIFLE0d0u6W4HtH66ACrjtntrNh0Q/5vD0zrzP2GFhVgYzvKzpL05het9CFK2EHrxJj7voYWzyzEWL/jlEgyJNcRBLD0lEV5yfPO7esXBTGUPF6fORnv1BE3/5T+vdrn84UUmQIUfbl/IiwYZlzrH0jpDbNa/hUuMbDSks4OYjskcbugjLjpeawDKwSwx1CGL+hZyofl8QORVHLJLFHXnfCwtl+Mtj+eHpqTzXRd4FNurbO9aa7Y+KwRaMTIHq09c8ra1R3oCYWV+t6ZhbvtsOmr/NX4LPXrvPc1kda8Lll/BMMtIoByAg6YQU1QKo0K+OaqGRunE9DP2bf1zVF5VWeMa71WTYjRzRdjmsijTwysIPtZ3fe2w9wkyLUTgItQUJkmIVngDrRA1YCeaYLJe4=
